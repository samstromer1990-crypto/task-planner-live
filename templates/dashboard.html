<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
<head>
  <meta charset="UTF-8">
  <title>Your Task Planner</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

  <style>
    body {
      margin: 0;
      font-family: Inter, sans-serif;
      background: var(--bs-body-bg);
      color: var(--bs-body-color);
      display: flex;
      height: 100vh;
      overflow: hidden;
    }

    /* Sidebar */
    #sidebar {
      width: 260px;
      background: var(--bs-secondary-bg);
      padding: 20px;
      border-right: 1px solid var(--bs-border-color);
      transition: background 0.3s;
    }

    #sidebar h2 {
      font-weight: 700;
      margin-bottom: 20px;
    }

    /* Toggle Button */
    #themeToggleBtn {
      position: absolute;
      top: 15px;
      right: 20px;
      background: transparent;
      border: none;
      font-size: 22px;
      cursor: pointer;
    }

    /* Main area */
    #main {
      flex: 1;
      padding: 20px;
      overflow-y: auto;
    }

    .task-card {
      background: var(--bs-tertiary-bg);
      border-radius: 12px;
      padding: 15px;
      margin-bottom: 12px;
      border: 1px solid var(--bs-border-color);
      transition: background 0.3s;
    }

    .calendar-box {
      background: var(--bs-tertiary-bg);
      border-radius: 12px;
      padding: 20px;
      border: 1px solid var(--bs-border-color);
      margin-bottom: 20px;
      transition: background 0.3s;
    }
  </style>
</head>

<body>

  <!-- THEME TOGGLE BUTTON (top-right) -->
  <button id="themeToggleBtn">üåô</button>

  <!-- Sidebar -->
  <div id="sidebar">
    <h2>Your Planner</h2>
    <button class="btn btn-primary w-100 mb-3" id="addTaskBtn">Add Task</button>

    <h5 class="mt-4">Tasks</h5>
    <div id="taskList"></div>
  </div>

  <!-- Main Content -->
  <div id="main">

    <div class="calendar-box">
      <h3>Calendar</h3>
      <input type="date" class="form-control mt-2">
    </div>

    <h3 class="mb-3">Today's Tasks</h3>
    <div id="todayTasks"></div>

  </div>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

  <!-- DARK MODE TOGGLE LOGIC -->
  <script>
    const html = document.documentElement;
    const toggleBtn = document.getElementById("themeToggleBtn");

    // Load saved theme
    const savedTheme = localStorage.getItem("theme");
    if (savedTheme) {
      html.setAttribute("data-bs-theme", savedTheme);
      toggleBtn.textContent = savedTheme === "dark" ? "‚òÄÔ∏è" : "üåô";
    }

    // Toggle theme
    toggleBtn.addEventListener("click", () => {
      const current = html.getAttribute("data-bs-theme");
      const next = current === "dark" ? "light" : "dark";

      html.setAttribute("data-bs-theme", next);
      localStorage.setItem("theme", next);

      toggleBtn.textContent = next === "dark" ? "‚òÄÔ∏è" : "üåô";
    });
  </script>

  <!-- TASK SYSTEM -->
  <script>
    const addTaskBtn = document.getElementById("addTaskBtn");
    const taskList = document.getElementById("taskList");
    const todayTasks = document.getElementById("todayTasks");

    let tasks = [];

    addTaskBtn.addEventListener("click", () => {
      const name = prompt("Task name:");
      if (!name) return;

      const task = { name, done: false };
      tasks.push(task);
      renderTasks();
    });

    function renderTasks() {
      taskList.innerHTML = "";
      todayTasks.innerHTML = "";

      tasks.forEach((t, i) => {
        const card = document.createElement("div");
        card.className = "task-card";
        card.innerHTML = `
          <strong>${t.name}</strong>
          <br>
          <button class="btn btn-sm btn-success mt-2">Done</button>
        `;

        card.querySelector("button").onclick = () => {
          t.done = true;
          renderTasks();
        };

        taskList.appendChild(card);

        if (!t.done) {
          todayTasks.appendChild(card.cloneNode(true));
        }
      });
    }
  </script>

</body>
</html>
